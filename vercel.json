{
    "buildCommand": "npm run build",
    "devCommand": "npm run dev",
    "installCommand": "npm ci",
    "framework": "nextjs",
    "env": {
        "NEXT_PUBLIC_APP_NAME": {
            "description": "Application name",
            "default": "QuickEats"
        },
        "DATABASE_URL": {
            "description": "PostgreSQL database URL"
        },
        "MONGODB_URI": {
            "description": "MongoDB connection string"
        },
        "REDIS_URL": {
            "description": "Redis URL for caching"
        },
        "SESSION_SECRET": {
            "description": "Session encryption secret"
        }
    },
    "buildRegions": [
        "pdx1",
        "iad1"
    ],
    "functions": {
        "api/**/*.ts": {
            "memory": 256,
            "maxDuration": 60
        }
    },
    "headers": [{
        "source": "/:path*",
        "headers": [{
                "key": "X-Content-Type-Options",
                "value": "nosniff"
            },
            {
                "key": "X-Frame-Options",
                "value": "SAMEORIGIN"
            },
            {
                "key": "X-XSS-Protection",
                "value": "1; mode=block"
            },
            {
                "key": "Referrer-Policy",
                "value": "strict-origin-when-cross-origin"
            },
            {
                "key": "Permissions-Policy",
                "value": "camera=(), microphone=(), geolocation=()"
            }
        ]
    }],
    "redirects": [{
        "source": "/dashboard",
        "destination": "/analytics",
        "permanent": false
    }]
}